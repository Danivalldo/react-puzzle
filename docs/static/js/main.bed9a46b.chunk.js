(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(t,e,i){t.exports=i.p+"static/media/713f36b9c2e2aca894b2290d8cb788d9.727a4e2d.jpg"},function(t,e,i){t.exports=i.p+"static/media/30db44484b1e5d0e2f2531b1005e1449c18b141d_00.6613ee17.gif"},function(t,e,i){t.exports=i(25)},,,,,,function(t,e,i){},,function(t,e,i){},,function(t,e,i){},,function(t,e,i){"use strict";i.r(e);var o=i(0),s=i.n(o),n=i(8),a=i.n(n),r=(i(19),i(1)),p=i(2),c=i(4),h=i(3),l=i(5),u=i(6),m=i(7),d=i(10),w=i.n(d),y=(i(21),function(t){function e(t){var i;return Object(r.a)(this,e),(i=Object(c.a)(this,Object(h.a)(e).call(this,t))).state={axis:void 0},i}return Object(l.a)(e,t),Object(p.a)(e,[{key:"handleStart",value:function(t,e){}},{key:"handleDrag",value:function(t,e){var i=Math.abs(e.deltaX),o=Math.abs(e.deltaY);(i>=1||o>=1)&&(this.state.axis||this.setState(function(){return{axis:i>o?"x":"y"}}))}},{key:"handleStop",value:function(t,e){this.setState(function(){return{axis:void 0}});var i=this.props.size/2,o=this.props.emptyPos.col*this.props.size,s=this.props.emptyPos.row*this.props.size;(e.x<=o+i&&e.x>=o-i&&this.props.row===this.props.emptyPos.row||e.y<=s+i&&e.y>=s-i&&this.props.col===this.props.emptyPos.col)&&"function"===typeof this.props.onMovedToEmpty&&this.props.onMovedToEmpty(this.props.id)}},{key:"place",value:function(){return{width:this.props.size,height:this.props.size,backgroundImage:"url('".concat(this.props.img,"')"),backgroundSize:"".concat(this.props.size*this.props.numPieces,"px ").concat(this.props.size*this.props.numPieces,"px"),backgroundPosition:"".concat(-1*this.props.initialCol*this.props.size,"px ").concat(-1*this.props.initialRow*this.props.size,"px")}}},{key:"render",value:function(){var t={x:this.props.col*this.props.size,y:this.props.row*this.props.size},e={left:this.props.emptyPos.col===this.props.col-1&&this.props.emptyPos.row===this.props.row?t.x-this.props.size:t.x,right:this.props.emptyPos.col===this.props.col+1&&this.props.emptyPos.row===this.props.row?t.x+this.props.size:t.x,top:this.props.emptyPos.row===this.props.row-1&&this.props.emptyPos.col===this.props.col?t.y-this.props.size:t.y,bottom:this.props.emptyPos.row===this.props.row+1&&this.props.emptyPos.col===this.props.col?t.y+this.props.size:t.y};return s.a.createElement(w.a,{axis:this.state.axis,onStart:this.handleStart.bind(this),onDrag:this.handleDrag.bind(this),onStop:this.handleStop.bind(this),bounds:e,defaultPosition:t,position:t},s.a.createElement("div",{id:"".concat(this.props.id),className:"piece",style:this.place()}))}}]),e}(o.Component)),f=(i(23),function(t){function e(t){var i;Object(r.a)(this,e),(i=Object(c.a)(this,Object(h.a)(e).call(this,t))).state={piecesPosition:{},emptyPos:{row:0,col:0},status:"ready"};for(var o=0,s=0;s<t.grid;s++)for(var n=0;n<t.grid;n++)i.state.emptyPos.row===s&&i.state.emptyPos.col===n||(i.state.piecesPosition["piece-".concat(o)]={row:s,col:n,initialRow:s,initialCol:n}),o++;return i._handleKeyDown=i.onKeyDown.bind(Object(m.a)(Object(m.a)(i))),window.addEventListener("keydown",i._handleKeyDown),i}return Object(l.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnount",value:function(){window.removeEventListener("keydown",this._handleKeyDown)}},{key:"componentDidUpdate",value:function(t,e){this.state.emptyPos!==e.emptyPos&&this.checkSuccess()}},{key:"checkSuccess",value:function(){var t=this;if("ready"===this.state.status){var e=0;for(var i in this.state.piecesPosition){var o=this.state.piecesPosition[i];o.row===o.initialRow&&o.col===o.initialCol&&e++}e===this.props.grid*this.props.grid-1&&window.setTimeout(function(){"function"===typeof t.props.onWin&&t.props.onWin()},100)}}},{key:"onKeyDown",value:function(t){var e=this;this.setState(function(i){var o=Object(u.a)({},i.emptyPos);switch(t.code){case"ArrowUp":o.row=o.row<e.props.grid-1?o.row+1:o.row;break;case"ArrowDown":o.row=o.row>0?o.row-1:o.row;break;case"ArrowRight":o.col=o.col>0?o.col-1:o.col;break;case"ArrowLeft":o.col=o.col<e.props.grid-1?o.col+1:o.col;break;default:return}return t.preventDefault(),{emptyPos:o,piecesPosition:e.getPiecesPositionOnMoveEmptyPos(o)}})}},{key:"getPiecesPositionOnMoveEmptyPos",value:function(t){var e=Object(u.a)({},this.state.piecesPosition);for(var i in e)if(e[i].row===t.row&&e[i].col===t.col){e[i]=Object(u.a)({},this.state.piecesPosition[i],{row:this.state.emptyPos.row,col:this.state.emptyPos.col});break}return e}},{key:"updatePieces",value:function(){var t=this,e=[];for(var i in this.state.piecesPosition)e.push(s.a.createElement(y,{key:i,id:i,emptyPos:this.state.emptyPos,size:this.props.size/this.props.grid,col:this.state.piecesPosition[i].col,row:this.state.piecesPosition[i].row,initialCol:this.state.piecesPosition[i].initialCol,initialRow:this.state.piecesPosition[i].initialRow,img:this.props.img,numPieces:this.props.grid,onMovedToEmpty:function(e){t.setState(function(i){return{piecesPosition:t.getPiecesPositionOnMoveEmptyPos(i.piecesPosition[e]),emptyPos:Object(u.a)({},i.piecesPosition[e])}})}}));return e}},{key:"wrongShuffle",value:function(){for(var t=Object.keys(this.state.piecesPosition),e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),o=[t[i],t[e]];t[e]=o[0],t[i]=o[1]}this.setState(function(e){var i=0,o={};for(var s in e.piecesPosition)o[s]=Object(u.a)({},e.piecesPosition[t[i]],{initialRow:e.piecesPosition[s].initialRow,initialCol:e.piecesPosition[s].initialCol}),i++;return{piecesPosition:o}})}},{key:"shuffle",value:function(){var t=this;if("ready"===this.state.status){!function e(i,o){if(i>0){var s=[];t.state.emptyPos.row<t.props.grid-1&&(o.row-1===t.state.emptyPos.row&&o.col===t.state.emptyPos.col||s.push({row:1,col:0})),t.state.emptyPos.row>0&&(o.row+1===t.state.emptyPos.row&&o.col===t.state.emptyPos.col||s.push({row:-1,col:0})),t.state.emptyPos.col>0&&(o.row===t.state.emptyPos.row&&o.col+1===t.state.emptyPos.col||s.push({row:0,col:-1})),t.state.emptyPos.col<t.props.grid-1&&(o.row===t.state.emptyPos.row&&o.col-1===t.state.emptyPos.col||s.push({row:0,col:1}));var n=Math.round(Math.random()*s.length),a=s[n=n===s.length?n-1:n],r={row:t.state.emptyPos.row+a.row,col:t.state.emptyPos.col+a.col};t.setState(function(e){return o=e.emptyPos,{status:"shuffling",emptyPos:r,piecesPosition:t.getPiecesPositionOnMoveEmptyPos(r)}}),window.setTimeout(function(){e(--i,o)},100)}else t.setState(function(){return{status:"ready"}})}(100,this.state.emptyPos)}}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"game",style:{width:this.props.size,height:this.props.size}},this.updatePieces()))}}]),e}(o.Component)),P=i(11),v=i.n(P),g=i(12),b=i.n(g),k=function(t){function e(t){var i;return Object(r.a)(this,e),(i=Object(c.a)(this,Object(h.a)(e).call(this,t))).maxSize=300,i.margin=0,i.state={sizeGame:window.innerWidth-i.margin>i.maxSize?i.maxSize:window.innerWidth-i.margin,image:v.a},i}return Object(l.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleOnResize.bind(this))}},{key:"handleClick",value:function(){this.refs.gameRef.shuffle()}},{key:"handleOnResize",value:function(){var t=this;this.setState(function(){return{sizeGame:window.innerWidth-t.margin>t.maxSize?t.maxSize:window.innerWidth-t.margin}})}},{key:"handleOnWin",value:function(){alert("You won!")}},{key:"changeImage",value:function(t){this.setState(function(){return{image:t}})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"App"},s.a.createElement(f,{ref:"gameRef",grid:3,size:this.state.sizeGame,img:this.state.image,onWin:this.handleOnWin.bind(this)}),s.a.createElement("p",null,s.a.createElement("button",{onClick:this.handleClick.bind(this)},"SHUFFLE")),s.a.createElement("p",null,"Write your own url image:",s.a.createElement("input",{type:"text",style:{display:"block",width:"80%",padding:10,margin:"0 auto"},placeholder:"write the Url of an image",value:this.state.image,onChange:function(e){t.changeImage(e.target.value)}})),s.a.createElement("p",null,"or select an animated gif: ",s.a.createElement("button",{onClick:this.changeImage.bind(this,b.a)},"Launch Gif")))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[13,2,1]]]);
//# sourceMappingURL=main.bed9a46b.chunk.js.map